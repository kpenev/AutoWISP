{% for axis in "XYT"|make_list %}
{% cycle plot_decorations.x_label plot_decorations.y_label plot_decorations.title as value silent %}
{% cycle "X label" "Y label" "Title" as label silent %}
<div class="config-row">
    <label for="{{ label|slugify }}">{{ label }}:</label>
    <input type="text" 
           id="{{ label|slugify }}"
           class="param"
           value="{{ value }}">
</div>
{% endfor %}

<div class="lcars-row">
    <div id="previous-selection"
         class="lcars-bracket left lcars-melrose-bg button center-center" 
         style="width:50%">
        <i class="fa fa-plus"></i>
    </div>
    <div id="next-selection"
         class="lcars-bracket right button center-center" 
         style="width:50%">
        <i class="fa fa-chevron-right"></i>
    </div>
</div>
{% include "results/param_table.html" with param_group="substitution" col1="LC Substitution" col2="Value" data=data_select.0.lc_substitutions can_add=1 %}

{% include "results/param_table.html" with param_group="find-best" col1="Find Best" col2="Allowed Values" data=data_select.0.find_best can_add=1 %}

<div class="config-row">
    <label for="minimize">Minimize:</label>
    <input type="text" 
           id="minimize"
           class="param"
           value="{{ data_select.0.minimize }}">
</div>

<div class="config-row">
    <input type="checkbox" 
           id="include-apphot" 
           name="include-apphot" 
           checked 
           class="param"/>
    <label for="include-apphot" style="text-align: left">Aperture Photometry</label>
</div>

<div class="config-row">
    <input type="checkbox" 
           id="include-shapefit" 
           name="include-shapefit" 
           checked 
           class="param"/>
    <label for="include-shapefit" style="text-align: left">PSF/PRF Fit</label>
</div>

<div class="config-row">
    <label for="points-selection">LC Points Selection:</label>
    <input type="text" 
           id="points-selection"
           class="param"
           value="{{ data_select.0.selection }}">
</div>

<div class="lcars-row">
    <div id="previous-curve" 
         class="lcars-bracket left center-center lcars-melrose-bg button">
        <i class="fa fa-plus"></i>
    </div>

    <div id="define-curve" class="lcars-column" style="width: 100%">
        <div class="config-row">
            <label for="sphotref_selector">Photometric Reference Condition:</label>
            <input type="text" 
                   id="sphotref_selector"
                   class="param"
                   value="{{ data_select.0.plot_config.0.sphotref_selector }}">
        </div>

        {% for char in "xym"|make_list %}
        {% cycle data_select.0.plot_config.0.x data_select.0.plot_config.0.y data_select.0.plot_config.0.match_by as quantity silent %}
        {% cycle 'X' 'Y' 'Aggregate by' as label silent %}
        {% cycle 'x' 'y' 'match_by' as id silent %}
        <div class="config-row">
            <label for="{{ id }}">{{label}}:</label>
            <select name="{{ id }}" 
                    id="{{ id }}"
                    class="lcars-text-box lcars-gray-bg lcars-husk-color param">
                {% for option in data_select.0.expressions %}
                <option value="{{option}}" 
                        {% if option == quantity %}
                        selected
                        {% endif %}
                        >
                        {{option}}
                </option>
                {% endfor %}
            </select>
        </div>
        {% endfor %}
        {% for axis in "abl"|make_list %}
        {% cycle data_select.0.plot_config.0.x_aggregate data_select.0.plot_config.0.y_aggregate data_select.0.plot_config.0.curve_label as value silent %}
        {% cycle 'X Aggregate func.' 'Y Aggregate func.' 'Curve label' as label silent %}
        {% cycle 'x_aggregate' 'y_aggregate' 'curve_label' as id silent %}
        <div class="config-row">
            <label for="{{ id }}">{{ label }}:</label>
            <input type="text" 
                   id="{{ id }}"
                   class="param"
                   value="{{ value }}">
        </div>
        {% endfor %}
    </div>

    <div id="next-curve" 
         class="lcars-bracket right center-center button">
        <i class="fa fa-chevron-right"></i>
    </div>
</div>

{{ data_select|json_script:"lc-data-select" }}

<div class="lcars-row center-center">
    <label for="select-model">Model:</label>
    <select name="select-model" 
            id="select-model"
            class="lcars-text-box lcars-gray-bg lcars-husk-color param"
            style="width: 100%">
        <option value=""
                {% if not data_select.0.model %}
                selected
                {% endif %}
                >
        </option>
        <option value="transit"
                {% if data_select.0.model %}
                selected
                {% endif %}
                >
                Transit
        </option>
    </select>
</div>


<div class="config-row"></div>
<div id="define-model"
       {% if not config.model.enabled %}
       style="display: none;"
       {% endif %}
       >
</div>

<div class="lcars-bar horizontal config-row" style="width: 100%">
    Plot Quantities
</div>

{% include "results/param_table.html" with param_group="lc-expression" col1="Name" col2="Expression" data=data_select.0.expressions can_add=1 %}
