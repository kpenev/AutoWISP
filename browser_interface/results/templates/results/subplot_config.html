<div class="lcars-row">
    {% if curve_id > 0 %}
    <div id="previous-curve" 
         class="lcars-bracket left lcars-melrose-bg center-center button">
        <
    </div>
    {% endif %}

    <div class="lcars-column" style="width: 100%">
        {% for char in "xym"|make_list %}
        {% cycle config.plot_config.x_quantity config.plot_config.y_quantity config.plot_config.match_by as quantity silent %}
        {% cycle 'X' 'Y' 'Aggregate by' as label silent %}
        <div id="curve-parent" class="config-row">
            <label for="{{ label|slugify }}">{{label}}:</label>
            <div class="lcars-bracket left"></div>
            <select name="{{ label|slugify }}" 
                    id="{{ label|slugify }}"
                    class="lcars-text-box lcars-gray-bg lcars-husk-color param">
                {% for option in expressions %}
                <option value="{{option.0}}" 
                        {% if option.0 == quantity %}
                        selected
                        {% endif %}
                        >
                        {{option.0}}
                </option>
                {% endfor %}
            </select>
            <div class="lcars-bracket right"></div>
        </div>
        {% endfor %}
        {% for axis in "ac"|make_list %}
        {% cycle config.plot_config.aggregate config.plot_config.curve_label as value silent %}
        {% cycle "Aggregate func." "Curve label" as label silent %}
        <div class="config-row">
            <label for="label|slugify">{{ label }}:</label>
            <input type="text" 
                   id="label|slugify"
                   class="param"
                   value="{{ value }}">
        </div>
        {% endfor %}
    </div>

    {% if not last_curve %}
    <div id="next-curve" 
         class="lcars-bracket right lcars-melrose-bg center-center button">
        >
    </div>
    {% endif %}
</div>

{% for axis in "XYT"|make_list %}
{% cycle x_label y_label title as value silent %}
{% cycle "X label" "Y label" "Title" as label silent %}
<div class="config-row">
    <label for="{{ label|slugify }}">{{ label }}:</label>
    <input type="text" 
           id="{{ label|slugify }}"
           class="param"
           value="{{ value }}">
</div>
{% endfor %}


<div class="lcars-row">
    <div class="lcars-bracket left"></div>
    <select name="select-model" 
            id="select-model"
            class="lcars-text-box lcars-gray-bg lcars-husk-color param"
            style="width: 100%">
        <option value=""
                {% if not config.model.enabled %}
                selected
                {% endif %}
                >
        </option>
        <option value="transit"
                {% if config.model.enabled %}
                selected
                {% endif %}
                >
                Transit
        </option>
    </select>
    <div class="lcars-bracket right"></div>
</div>


<div class="config-row"></div>
<table id="define-model" 
       class="lcars-table standard-header"
       {% if not config.model.enabled %}
       style="display: none;"
       {% endif %}
       >
</table>

<div class="lcars-element button config-row" style="width: 100%">
    Plot Quantities
</div>
<div class="config-row"></div>
<table id="lc-expressions" 
       class="lcars-table standard-header">
    <thead>
        <tr>
            <th>Name</th>
            <th>Expression</th>
        </tr>
    </thead>
    <tbody>
        {% for expression in config.expressions %}
        <tr>
            <td> 
                <input type="text"
                       id="lc-quantity-{{ forloop.counter0 }}"
                       class="param"
                       value="{{ expression.0 }}">
            </td>
            <td style="width: 100%">
                <input type="text"
                       id="lc-expression-{{ forloop.counter0 }}"
                       class="param"
                       style="width: 100%"
                       value="{{ expression.1 }}">
            </td>
        </tr>
        {% endfor %}
        <tr> 
            <td colspan="2">
                <div id="add-expression center-center"
                     class="lcars-element button rounded lcars-melrose-bg">
                    New
                </div>
            </td>
        </tr>
    </tbody>
</table>
</table>
