{% extends 'core/lcars_app.html' %}
{% load static %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'results/css/display_lightcurves.css' %}">

{% endblock extra_head %}

{% block header_title %}{% block app_title %}
Preview Lightcurves
{% endblock %}{% endblock %}

{% block left_menu %}

<a id="download-button" 
   href="{% url 'results:download_lightcurve_figure' %}">
    <div class="lcars-element 
                button 
                lcars-melrose-bg
                lcars-u-1">
        Download Figure
    </div>
</a>

<a href="{% url 'results:clear_lightcurve_buffer' %}">
    <div class="lcars-element 
                button 
                lcars-husk-bg
                lcars-u-1">
        Clear LC Buffer
    </div>
</a>
{% endblock left_menu %}

{% block header_bar_extra %}
<div class="lcars-bar horizontal spacer"></div>
<div id="apply"
     class="lcars-bar
            button
            lcars-husk-bg
            horizontal
            lcars-u-1">
    Apply
</div>
<div class="lcars-bar horizontal spacer"></div>
<a href="{% url 'results:display_lightcurve' show_config="rcParams" %}">
<div id="rcParams"
     class="lcars-bar
            button
            lcars-melrose-bg
            horizontal
            lcars-u-1">
    Figure Config.
</div>
</a>
{% endblock header_bar_extra %}

{% block main %}
<div id="active-area" class="lcars-row fill-space">
    <div id="figure-parent" class="fill-space lcars-row">
        <div id="plot-split" class="lcars-bracket hollow"></div>
        <div id="plot-highlight"></div>
    </div>
    {% if config %}
    <div class="lcars-row lcars-u-5">
        <div id="resize-config" class="lcars-bracket left"></div>
        <div id="{{config.0}}" class="lcars-column config-parent">
            {% if config.0 == "sub-plot" %}
            {% include "./sub_plot_config.html" with config=config.1 %}
            {% else %}
            {% for param in config.1 %}
            <div class="lcars-row">
                <label for="{{param.0}}">{{param.0}}:</label>
                <input class="param" id="{{param.0}}" type="text" value="{{param.1}}">
            </div>
            {% endfor %}
            {% endif %}
        </div>
    </div>
    {% endif %}
</div>

<script src="{% static 'js/autowisp.util.js' %}"></script>
<script src="{% static 'results/js/display.lightcurves.js' %}"></script>
{% url 'results:update_lightcurve_figure' as updateURL %}
{% url 'results:edit_subplot' plot_id=0 as editSubPlotURL%}
<script type="text/javascript">
    initLightcurveDisplay("{{updateURL}}", "{{editSubPlotURL}}");
</script> 
{% endblock main %}




